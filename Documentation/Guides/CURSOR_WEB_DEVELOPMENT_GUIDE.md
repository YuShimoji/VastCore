# Cursor Web 開発継続ガイド

**プロジェクト**: Vastcore  
**作成日**: 2025年1月  
**目的**: Unity エディタなしでもC#スクリプト開発・設計・ドキュメント整備を継続可能にする

---

## 🎯 **開発方針**

### **Cursor Webでできること**
- ✅ **C#スクリプトの編集・新規作成**
- ✅ **設計ドキュメントの更新・整備**
- ✅ **システム設計の検討・改善**
- ✅ **コードレビュー・リファクタリング**
- ✅ **開発計画の策定・更新**
- ✅ **バグ修正・コード最適化**
- ✅ **API調査・技術仕様書作成**

### **Unity エディタでしかできないこと**
- ❌ **スクリプトのアタッチ・Inspectorでの設定**
- ❌ **実際の動作テスト・デバッグ**
- ❌ **Scene編集・Prefab作成**
- ❌ **エディタ拡張UIの動作確認**
- ❌ **Unity Console でのエラー確認**

---

## 📁 **プロジェクト構造概要**

### **主要システム**

#### **🎮 プレイヤーシステム** (`Assets/Scripts/Player/`)
| ファイル | 用途 | 開発状況 |
|---------|------|----------|
| `AdvancedPlayerController.cs` | 高度な移動システム（グライド、ドリームフライト等） | ✅ 完成 |
| `TranslocationSphere.cs` | ワープ球体システム（軌道予測、着地プレビュー） | ✅ 完成 |
| `SimplePlayerController.cs` | 基本移動システム | ✅ 完成 |

#### **🏗️ Structure Generator** (`Assets/Editor/StructureGenerator/`)
| タブ | カテゴリ | ファイル | 開発状況 |
|------|----------|----------|----------|
| Basic | 🏗️ Generation | `BasicStructureTab.cs` | ✅ 完成 |
| Advanced | 🏗️ Generation | `AdvancedStructureTab.cs` | ✅ 完成 |
| Operations | ✏️ Editing | `OperationsTab.cs` | ✅ 完成 |
| Relationships | ⚙️ Settings | `RelationshipTab.cs` | ✅ 完成 |
| Distribution | 🏗️ Generation | `ParticleDistributionTab.cs` | ✅ 完成 |
| Composition | ✏️ Editing | `CompositionTab.cs` | ✅ 完成 |
| Random | ✏️ Editing | `RandomControlTab.cs` | ✅ 完成 |

#### **🌍 地形生成システム** (`Assets/Scripts/Generation/Map/`)
| ファイル | 用途 | 開発状況 |
|---------|------|----------|
| `MeshGenerator.cs` | 3種類の地形・5種類のノイズ生成 | ✅ 完成 |
| `SimpleTestManager.cs` | 地形生成テストシステム | ✅ 完成 |

---

## 🚀 **現在の開発フェーズ**

### **✅ 完了済みフェーズ**
- **Phase 1**: 基本関係性システム
- **Phase 2**: 形状制御システム  
- **Phase 4**: パーティクル配置システム
- **統一化**: 全7タブの統一インターフェース

### **⏳ 次期実装予定**
- **Phase 3**: Deformシステム統合（Unity Asset Store パッケージ導入後）
- **Phase 5**: 高度合成システム
- **Phase 6**: ランダム制御システム

---

## 📝 **Cursor Web での作業フロー**

### **1. コード編集作業**
```
スクリプト修正 → コンパイルエラー確認 → 
→ ドキュメント更新 → Unity で動作確認
```

### **2. 設計・企画作業**
```
システム設計 → 技術仕様書作成 → 
→ 実装計画策定 → ドキュメント整備
```

### **3. 開発ドキュメント整備**
```
DEV_LOG.md 更新 → DEV_PLAN.md 見直し → 
→ 設計文書更新 → 進捗状況記録
```

---

## 🔍 **主要ファイル参照リスト**

### **開発計画・進捗管理**
- `DEV_PLAN.md` - 6段階開発計画とタスク管理
- `DEV_LOG.md` - 詳細な開発作業ログ
- `WEB_DEVELOPMENT_ROADMAP.md` - **📋 新規追加**: ウェブ開発専用ロードマップ
- `TASK_PRIORITIZATION.md` - **📋 新規追加**: 優先度別タスク管理表
- `FUNCTION_TEST_STATUS.md` - 機能テスト状況表

### **設計ドキュメント**
- `ADVANCED_STRUCTURE_DESIGN_DOCUMENT.md` - システム設計仕様書
- `REFACTORING_HANDOVER_DOCUMENT.md` - リファクタリング記録
- `CSG_INTEGRATION_LOG.md` - CSG統合作業記録

### **Unity プロジェクト管理**
- `README.md` - プロジェクト概要・ゲームデザイン
- `RANDOMCONTROL_UI_DESIGN.md` - UI設計仕様

---

## 🛠️ **Cursor Web 作業項目**

### **🚀 最優先（次の1-2セッション）**
1. **Phase 3 Deformシステム技術調査**
   - **工数**: 2-3レスポンス
   - **内容**: Unity Asset Store「Deform」パッケージ仕様調査、統合方式設計、DeformerタブUI設計
   
2. **Phase 5 高度合成システム設計**
   - **工数**: 2-3レスポンス
   - **内容**: AdvancedCompositionSystem クラス設計、LOD生成・メッシュ最適化アルゴリズム

### **🔧 高優先（3-5セッション）**
3. **既存システム最適化**
   - **対象**: 全7タブの品質向上
   - **内容**: メモリ使用量削減、処理速度向上、エラーハンドリング強化

4. **テストシステム拡充**
   - **対象**: 自動テスト・品質保証
   - **内容**: AutomatedTestSuite 実装、統合テスト機能

5. **Phase 6 ランダム制御拡張**
   - **対象**: RandomControlTabの機能強化
   - **内容**: ランダムシード管理、高度制約システム、統計的分布制御

### **⚡ 中優先（6-10セッション）**
6. **新機能企画・設計**
   - **対象**: 次世代プレイヤーシステム
   - **内容**: 壁走り、重力操作、時間制御、空間歪曲移動

7. **高度地形システム設計**
   - **対象**: 次世代地形生成
   - **内容**: 複数地形ブレンド、リアルタイム侵食、生態系ベース変化

8. **アーキテクチャ統合・最適化**
   - **対象**: システム全体の統合
   - **内容**: 統一アーキテクチャ、プラグインシステム、外部ツール連携

---

## 📊 **新規追加: 進捗管理システム**

### **週次スケジューリング**
```
第1週: Phase 3 基盤構築
第2週: Phase 5 設計開始  
第3週: 最適化・拡張
第4週: 統合・テスト
```

### **KPI管理**
| 指標 | 目標値 | 状況 |
|------|--------|------|
| 週次タスク完了率 | 80%以上 | 🎯 新規 |
| コード品質スコア | 90%以上 | 🎯 新規 |
| Unity確認効率 | 1タスク/1時間 | 🎯 新規 |

### **リスク管理**
| リスク項目 | 確率 | 影響度 | 対策 |
|------------|------|--------|------|
| Deformパッケージ互換性 | 中 | 高 | 代替実装準備 |
| メモリ不足（大規模メッシュ） | 中 | 中 | 分割処理実装 |
| ProBuilder API変更 | 低 | 高 | バージョン固定・ラッパー実装 |

---

## ⚠️ **注意事項**

### **MCP利用時の制約**
- **別プロジェクト接続時**: MCPは使用不可（誤操作防止）
- **コンパイルエラー時**: MCPは使用不可（安全性確保）
- **MCP使用前**: 必ず「MCPを使用します」と事前通知

### **ファイル管理**
- **新ファイル作成**: 必要最小限に留める
- **一時ファイル**: 作業完了後は削除
- **デバッグコード**: 最小限に抑制、使用後削除

### **開発指針**
- **YAGNI**: 不要な機能は実装しない
- **KISS**: シンプルな設計を心がける  
- **DRY**: コードの重複を避ける
- **機能分離**: 責任範囲を明確化

---

## 📊 **作業効率化システム**

### **並行作業パターン**

#### **パターン1: 効率重視（推奨）**
```
Phase 3 調査 → Phase 5 設計 → 既存最適化 → Phase 6 拡張
（Unity確認を適宜実施）
```

#### **パターン2: 安定重視**
```
Phase 3 調査 → Unity確認 → Phase 5 設計 → Unity確認
（各段階で確実に検証）
```

### **作業選択指針**

#### **短時間作業向け（1-2レスポンス）**
- ドキュメント更新・整理
- 軽微なバグ修正・コード改善
- 設計文書作成
- API仕様書更新

#### **中時間作業向け（3-5レスポンス）**
- 新機能設計・実装
- システム最適化
- テストスイート拡充
- 技術調査・検証

#### **長時間作業向け（6レスポンス以上）**
- フェーズ完全実装
- アーキテクチャ大規模改修
- 新システム全体設計
- 統合テスト・品質保証

---

## 🎯 **成功指標**

### **短期成功指標**
- [x] **Git連携完全完了** ✅ 達成
- [x] **ウェブ開発体制整備** ✅ 達成  
- [ ] Phase 3 技術調査完了
- [ ] 既存コードの最適化完了
- [ ] 開発ドキュメント整理完了

### **中期成功指標**  
- [ ] Phase 5 設計完了
- [ ] 新機能仕様策定完了
- [ ] テストシステム拡充完了

### **長期成功指標**
- [ ] 全フェーズ実装完了
- [ ] システム統合・最適化完了
- [ ] 拡張機能リリース準備完了

---

## 🎖️ **今回の成果**

### **Git連携完全完了**
- ✅ リモートプッシュ完了（146.39 KiB、87オブジェクト）
- ✅ サブモジュール問題解決（Unity Package適切除外）
- ✅ 完全にクリーンなGit状態達成

### **ドキュメント体系整備**
- ✅ **WEB_DEVELOPMENT_ROADMAP.md**: ウェブ開発専用ロードマップ
- ✅ **TASK_PRIORITIZATION.md**: 優先度別タスク管理システム
- ✅ **DEV_LOG.md**: Git連携完了記録追加

### **開発体制確立**
- ✅ アイゼンハワー・マトリックス分類による優先度管理
- ✅ 週次スケジューリング・KPI管理システム
- ✅ リスク管理・成果定義体制

---

**最終更新**: 2025年1月  
**次回Unity作業予定**: Phase 3 Deformシステム統合テスト  
**次回推奨Web作業**: Phase 3 Deformシステム技術調査（優先度：🔴最高） 